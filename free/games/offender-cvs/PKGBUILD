# contributor: Dominika Solarz <dominikasolarz@gmail.com>

pkgname=offender-cvs
pkgver=20081021
pkgrel=1
pkgdesc="An entertaining 2d space shooter."
url="http://offender.sourceforge.net"
arch=('i686' 'x86_64')
license=('GPL')
depends=('gtk2')
makedepends=('cvs')
provides=('offender')
conflicts=('offender')
source=()
md5sums=('')

_cvsroot=":pserver:anonymous@offender.cvs.sourceforge.net:/cvsroot"
_cvsmod="offender"

build() {

	#Grab the source from cvs	
	cd $srcdir
	if [ -d $_cvsmod/CVS ]; then
		cd $_cvsmod
		cvs -z3 update -d || return 1
	else
		cvs -z3 -d $_cvsroot/$_cvsmod co -P $_cvsmod || return 1
		cd $_cvsmod
	fi	
	
	#Build and install the package
	cd $srcdir/$_cvsmod
	mkdir config
	./bootstrap || return 1
	./configure --prefix=$pkgdir/usr --exec-prefix=$pkgdir/usr || return 1
	make || return 1
	make install || return 1
	
}
