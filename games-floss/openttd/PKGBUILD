# $Id: PKGBUILD,v 1.19 2008/06/09 09:59:06 vegai Exp $
# Maintainer: Vesa Kaihlavirta <vegai@iki.fi>

pkgname=openttd
pkgver=0.6.1
pkgrel=1
pkgdesc="An engine for running Transport Tycoon Deluxe -- requires non-free data"
arch=('i686' 'x86_64')
url="http://www.openttd.com"
license=('GPL')
depends=(libpng sdl gcc-libs fontconfig)
makedepends=()
install=openttd.install
source=(http://mesh.dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver-source.tar.bz2 openttd.desktop openttd.install)
md5sums=('f7c0f19dcca051cd28641109d795f202' '6534fed87780182e7617674a5b72a3e1' '4652bf22bfb816e264117ad6245f8f9e')

build() {
    cd $startdir/src/$pkgname-$pkgver 
     
    ./configure --prefix-dir=/usr --binary-dir=/bin --icon-dir=/share/pixmaps --data-dir=/share/openttd --personal-dir=/.openttd --install-dir=$startdir/pkg/
    make || return 1
    make install || return 1
    # install freedesktop files
    install -D -m644 $startdir/src/openttd.desktop $startdir/pkg/usr/share/applications/openttd.desktop 
}
