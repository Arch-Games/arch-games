# Contributor: Jonathan Frazier <eyeswide@gmail.com>

pkgname=openal-soft
pkgver=1.6.372
pkgrel=1
pkgdesc="a cross-platform software implementation of the OpenAL 3D audio API."
url="http://kcat.strangesoft.net/openal.html"
arch=('i686' 'x86_64')
license=('LGPL2')
depends=()
makedepends=('cmake' 'alsa-lib' 'sdl')
provides=('openal=0.0.8')
conflicts=('openal')
source=(http://kcat.strangesoft.net/openal-releases/$pkgname-$pkgver.tar.bz2)
md5sums=('8dc255ba24859953335a0402a644c4ca')
 
build() {

  #Build and install the package
  cd "$srcdir/$pkgname-$pkgver"
  cmake . -DCMAKE_INSTALL_PREFIX:PATH=/usr || return 1
  make
  make DESTDIR="$pkgdir/" install

  #Some apps expect to have libopenal.so.0
  ln -s libopenal.so.1 $pkgdir/usr/lib/libopenal.so.0

  #Some apps expect openal_sof and not openal for pkgconfig
  ln -s openal.pc $pkgdir/usr/lib/pkgconfig/openal_soft.pc
  
}
