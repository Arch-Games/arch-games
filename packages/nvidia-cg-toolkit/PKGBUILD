# Original Contributor: Adam Griffiths 
# Contributor: Nick B <Shirakawasuna at gmail _dot_ com>
pkgname=nvidia-cg-toolkit 
pkgver=2.2
pkgrel=3
pkgdesc="nVidia Cg libraries" 
arch=('i686' 'x86_64')
url="http://developer.nvidia.com/object/cg_toolkit.html" 
license=('custom')
depends=('glibc' 'mesa') 
conflicts=('cgcompiler') # replaces cgcompiler 
source=(http://developer.download.nvidia.com/cg/Cg_2.2/Cg-2.2_October2009_x86.tgz)
  [ "$CARCH" = "x86_64" ] && 
  source=(http://developer.download.nvidia.com/cg/Cg_2.2/Cg-2.2_October2009_x86_64.tgz)
md5sums=('cb77565d4b13591a7b0dd1bdca50b3c6')
  [ "$CARCH" = "x86_64" ] && 
md5sums=('d5944858a03c9fc6cf342a08c573949e')
build() { 
 install -Dm755 ${srcdir}/usr/bin/cgc ${pkgdir}/usr/bin/cgc
 install -dm755 ${pkgdir}/usr/include/Cg
 install -m644 ${srcdir}/usr/include/Cg/* ${pkgdir}/usr/include/Cg
 install -dm755 ${pkgdir}/usr/lib
 [ "$CARCH" = "i686" ] && install -m644 ${srcdir}/usr/lib/* ${pkgdir}/usr/lib
 [ "$CARCH" = "x86_64" ] && install -m644 ${srcdir}/usr/lib64/* ${pkgdir}/usr/lib
 install -dm755 ${pkgdir}/usr/share/man/man3
 install -m644 ${srcdir}/usr/share/man/man3/* ${pkgdir}/usr/share/man/man3
 install -dm755 ${pkgdir}/usr/share/man/manCg
 install -m644 ${srcdir}/usr/share/man/manCg/* ${pkgdir}/usr/share/man/manCg/
 install -Dm644 ${srcdir}/usr//local/Cg/docs/license.txt ${pkgdir}/usr/share/licenses/nvidia-cg-toolkit/license.txt
 cp -r ${srcdir}/usr/local/Cg ${pkgdir}/usr/share/
 find $pkgdir/usr/share/ -type d -exec chmod -R 755 '{}' ';'
 find $pkgdir/usr/share/ -type f -exec chmod -R 644 '{}' ';'

}
