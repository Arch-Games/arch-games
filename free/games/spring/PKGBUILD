# Contributor: rabyte <rabyte__gmail>

pkgname=spring
pkgver=0.77b4
pkgrel=1
pkgdesc='A free 3D game engine for the real-time-strategy (RTS) game "Total Annihilation"'
arch=('i686' 'x86_64')
url="http://spring.clan-sy.com/"
license=('GPL2')
depends=('openal' 'glew' 'boost' 'devil' 'libvorbis' 'libxcursor')
makedepends=('scons>=0.98.5' 'gcc-gcj' 'zip')
optdepends=('springlobby (A lobby client that will download maps for you)')
source=(http://spring.clan-sy.com/dl/${pkgname}_${pkgver}_src.tar.bz2)
md5sums=('e26e7fe4be5ccc57f6e45c08b55ebbf1')

# !! Doesn't build with "-march=pentium4" set in CFLAGS !!

build() {
	
	cd $srcdir/spring_$pkgver

	scons configure prefix=/usr bindir=bin datadir=share/spring installprefix=$pkgdir/usr
	scons build || return 1
	scons install

	mkdir -p $pkgdir/etc/spring
	echo '$HOME/.spring' > $pkgdir/etc/spring/datadir
  
}
