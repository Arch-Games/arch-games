#Contributor: Urs Wolfer <uwolfer @ fwo.ch>

pkgname=blobby2
pkgver=0.9b
_pathver=Beta%200.9b
_buildpathver=beta-$pkgver
pkgrel=2
pkgdesc="Blobby Volley is one of the most popular freeware (now open source!) games."
#url="http://blobby.sourceforge.net/"
url="http://sourceforge.net/projects/blobby/"
license=('GPL')
depends=('mesa' 'sdl' 'unzip' 'physfs' 'boost-libs')
makedepends=('cmake' 'zip' 'boost')
conflicts=('blobby2-svn')
arch=(i686 x86_64)
source=(http://downloads.sourceforge.net/project/blobby/Blobby%20Volley%202%20%28Linux%29/$_pathver/$pkgname-linux-$pkgver.tar.gz
	$pkgname.desktop
        $pkgname.png)

md5sums=('40ee9f34ee8187c6910f489e4fa4a76d'
         'ab05bed794ee78db693fd3036393275a'
         'c1bc427b41a0a3facd771ac83c7fb412')

build() {
  cd $srcdir/blobby-$_buildpathver
  cmake -DCMAKE_INSTALL_PREFIX=/usr || return 1
  make || return 1
  make DESTDIR=$pkgdir/ install || return 1

  # install .desktop file and icon
  install -dm755 $pkgdir/usr/share/{applications,pixmaps}
  install -m644 $srcdir/$pkgname.desktop $pkgdir/usr/share/applications
  install -m644 $srcdir/$pkgname.png $pkgdir/usr/share/pixmaps
}
