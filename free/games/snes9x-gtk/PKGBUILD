# Contributor: Marcel Wysocki <maci@satgnu.net>

pkgname=snes9x-gtk
pkgver=1.51.56
pkgrel=1
pkgdesc="GTK+ Version of snes9x, a portable Emulator for the Super Nintento Entertainment System"
arch=(i686 x86_64)
url="http://snes9x.com/phpbb2/viewtopic.php?t=3703"
license=('Freeware')
depends=('zlib' 'libpng' 'sdl' 'nasm' 'mesa' 'gtkglext' 'portaudio' 'libxrandr' 'libglade')
source=(http://bearoso.googlepages.com/snes9x-1.51-src-gtk-56.tar.bz2
	snes9x-gtk.desktop)
build() {
  mkdir -p ${startdir}/pkg/usr/bin

  cd ${startdir}/src/snes9x-1.51-src

  # build snes9x-gtk with opengl
  ./configure --prefix=/usr \
              --with-gtk \
              --with-opengl \
              --with-netplay
  make || return 1
  install -D ${startdir}/src/snes9x-1.51-src/snes9x-gtk ${startdir}/pkg/usr/bin/snes9x-gtk

    # Install Desktop Icons
    install -D -m644 $startdir/src/snes9x-gtk.desktop \
        $startdir/pkg/usr/share/applications/snes9x-gtk.desktop
    install -D -m644 $startdir/src/snes9x-1.51-src/gtk/snes9x.svg \
        $startdir/pkg/usr/share/pixmaps/snes9x.svg


}
md5sums=('4fd626f3fd9a9bf7cdfe968cb6a9d943' '912988ec8d5c492009c5d180d17d7c1a')
