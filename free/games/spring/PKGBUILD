# Contributor: rabyte <rabyte__gmail>

pkgname=spring
pkgver=0.77b5
pkgrel=1
pkgdesc='A free 3D game engine for the real-time-strategy (RTS) game "Total Annihilation"'
url="http://spring.clan-sy.com/"
arch=('i686' 'x86_64')
license=('GPL2')
depends=('openal' 'glew' 'boost' 'devil' 'libvorbis' 'libxcursor' 'python25')
makedepends=('scons>=0.98.5' 'gcc-gcj' 'zip')
optdepends=('springlobby: A lobby client that will download maps for you')
source=(http://spring.clan-sy.com/dl/${pkgname}_${pkgver}_src.tar.bz2)
md5sums=('3d2c3c879e4d07c1c2ca8c5181bf0a45')

build() {
  
  #Build and install the package
  cd $srcdir/spring_$pkgver
  scons configure prefix=/usr bindir=bin datadir=share/spring installprefix=$pkgdir/usr
  scons build || return 1
  scons install

  #Give spring the location of the user config file
  mkdir -p $pkgdir/etc/spring
  echo '$HOME/.spring' > $pkgdir/etc/spring/datadir
  
}

# vim:set ts=2 sw=2 et:
